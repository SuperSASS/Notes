# Ep.5 OOP

## 一、抽象与封装

### 1. 抽象

抽象只包含最重要属性的表征。用于复杂问题简单化。

对于面向过程语言，函数和过程也是一类封装，具有数据、操作、规格说明（声明）和过程体。

抽象方式：

* 数据抽象
* 过程抽象

抽象是用一个符号，代表一系列的数据和操作。

### 2. 封装

将相关的数据和操作，封装成大模块（package、module）。

封装的规格说明和封装体，对应语义的“做什么”和“怎么做”。

**可见性**：

* 公有
* 私有
* 保护

### 3. 抽象数据类型(ADT)

定义一组数据集$V$，以及其上的操作集$Op$，则抽象数据类型$T=(V,Op)$

用户自定义类型的操作分类：

* 构造器
* 析构器
* 迭代器
* getter
* setter

#### (1) 构造和析构

#### (2) 间接封装和直接封装

也称为间接封装（浅拷贝）和直接封装（深拷贝）。

出现于一个 ADT B 里包含另一个 ADT A 类型的情况，  
需要考虑：B 的实例是将 A 整个复制过来；还是只留一个引用。

对于基元类型，一般是直接封装。

* 间接封装：对于 B 是独立于 A 的，即 B 的数据类型修改，不会影响 A
* 直接封装：对 B 的访问很容易（直接就在内部），但如果 B 的类型更改，需要重新编译 A

### 4. 泛型（类属, generic）

对于操作，是标准化的，对于所处理的数据类型并不关心。  
因此便用泛型来**抽象数据类型**。

但在使用的时候，必须**参数化类型**，即与实际类型结合。