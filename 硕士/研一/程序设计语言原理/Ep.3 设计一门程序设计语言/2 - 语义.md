# LRM 设计 - 语法

语义：赋予每个合法的程序一个明确的意义。

**基本方法**：

* 定义语言中各种基本元素的意义
* 定义语言中各个语法结构的意义

## 一、静态语义

### 1. 类型(typing)

程序语言需要有清晰的类型定义。

**类型环境**：

一个变量的类型信息可以用变量名和类型的对表示，即$x: T$  
所有变量和其类型，组成类型环境$\Gamma$

**类型断言**：

* $\Gamma \vdash e:T$: 在特定类型环境下，确定表达式$e$的类型为$T$
* $\Gamma \vdash s:ok$: 在特定类型环境下，语句$s$是否合法

**类型规则**：

利用断言来建立各种规则，如：表达式类型规则（表达式怎么确定类型）、语句规则（语句是否合法）

横线分割，上方是条件，下方是结果。

## 二、环境和状态

即程序在某个运行情况下的所有状态集合。

* 程序执行的一个动作可能依赖（使用）环境，或者改变环境

## 三、语义规格说明

怎么对语义进行形式化说明。

* 操作语义：用环境变化的规则定义程序各种结构意义，把程序运行看成执行了一系列改变环境的操作
* 公理语义（谓词）
* 指称语义（函数方法）：把程序意义隐射到某种数学结构
* 代数语义：考虑程序之间的等价关系

### 1. 操作语义

首先需要定义格局(Configuration)：

* 终止格局：程序运行完成的状态
* 非终止格局$p,\sigma$

### 2. 公理语义

* 逻辑公式$a_i$：描述了一个状态集合，即状态的取值范围
* 状态$\sigma$

一个公式可以被多个状态满足。  
如：$a_1: x=1$描述了$x$值为 1 的环境。

逻辑公式也称为**断言**。  
放到程序里则代表语句是否可执行。

用**前置条件和后置条件**$(pre,post)$来描述语义。

**不变式**。

### 3. 指称语义

定义一个语义函数，把程序的意义映射到某种意义清晰的数学对象。

### 4. 代数语义

*进展不多，更抽象*

