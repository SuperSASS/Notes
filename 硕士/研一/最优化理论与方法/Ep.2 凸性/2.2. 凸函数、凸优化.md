# Ep2.2. å‡¸å‡½æ•°ã€å‡¸ä¼˜åŒ–

å‰ä¸¤èŠ‚ä¸ºé¢„å¤‡çŸ¥è¯†ã€‚  
*æœ¬èŠ‚æœ‰å…³æ¢¯åº¦ã€æµ·æ£®çŸ©é˜µã€æ³°å‹’å±•å¼€çš„çŸ¥è¯†å¯è§Ep.0ã€‚*

**æ€»ç»“**ï¼š

* $\phi$å‡½æ•°ï¼š$\phi(\alpha)=f(\boldsymbol{x}+\alpha \boldsymbol{d})$
  * ä¸€é˜¶å¯¼æ•°ï¼š$\phi'(\alpha)=\boldsymbol{d}^T \nabla f(\boldsymbol{x}+\alpha\boldsymbol{d})$
  * äºŒé˜¶å¯¼æ•°ï¼š$\phi''(\alpha)=\boldsymbol{d}^T \nabla^2 f(\boldsymbol{x}+\alpha\boldsymbol{d})\boldsymbol{d}$
* å‡¸å‡½æ•°åˆ¤æ–­æ–¹æ³•ï¼ˆå……è¦ï¼‰
  * å®šä¹‰
  * ä¸Šé•œå›¾ä¸ºå‡¸
  * *å‡¸å‡½æ•°çš„ä»»æ„ä¸€å…ƒ$\phi$å‡½æ•°ä¹Ÿå‡¸*ï¼ˆæ›´å¤šä½œä¸ºæ€§è´¨ï¼‰
  * ï¼ˆ$f\in C^1$ï¼‰ä¸€é˜¶å¯¼æ•°ï¼šå‡½æ•°å€¼é«˜äºåˆ‡çº¿å€¼  
    å³**æ¢¯åº¦ä¸ç­‰å¼**(GI)ï¼š$f(\boldsymbol{y})\ge f(\boldsymbol{x})+\nabla f(\boldsymbol{x})^T(\boldsymbol{y}-\boldsymbol{x})$
  * ğŸŒŸï¼ˆ$f\in C^2$ï¼‰äºŒé˜¶å¯¼æ•°ï¼š$\nabla^2f$åŠæ­£å®š  
    å¦‚æœä¸ºæ­£å®šï¼Œåˆ™ä¸ºä¸¥æ ¼å‡¸å‡½æ•°ï¼ˆä¹Ÿä¸º$l-$å¼ºå‡¸ï¼‰ã€‚
  * ä¿å‡¸è¿ç®—
* å‡¸å‡½æ•°æ€§è´¨ï¼ˆå……åˆ†ï¼‰
  * ä¸‹æ°´å¹³é›†åˆæ˜¯å‡¸é›†
* å‡¸ä¼˜åŒ–æ€§è´¨
  * å±€éƒ¨æå°ç‚¹éƒ½æ˜¯å…¨å±€æå°ç‚¹
  * æå°ç‚¹çš„ç‚¹é›†$\{\boldsymbol{x}_*\}$æ˜¯å‡¸é›†åˆ
  * å¦‚$f$æ˜¯**ä¸¥æ ¼å‡¸å‡½æ•°**ï¼Œåˆ™åªæœ‰å”¯ä¸€çš„æœ€ä¼˜è§£  
    å¦‚æœ$f$çš„$\nabla^2 f\succ0$ï¼Œåˆ™$f$ä¸ºä¸¥æ ¼å‡¸å‡½æ•°ï¼Œåˆ™åªæœ‰å”¯ä¸€æœ€ä¼˜è§£ï¼Œï¼ˆç”±äºŒé˜¶å……åˆ†æ¡ä»¶çŸ¥ï¼‰ä¸º$\nabla f=0$å¤„ç‚¹ã€‚
* æå°ç‚¹å……åˆ†æ¡ä»¶ï¼ˆ$f\in C^1$ï¼‰  
  * å¦‚ä¸€ç‚¹$\boldsymbol{x}$çš„æ‰€æœ‰å¯è¡Œæ–¹å‘ï¼ˆè§ Ep.3ï¼‰å˜åŒ–é‡$\langle \nabla f, \boldsymbol{d} \rangle\ge0$ï¼Œåˆ™è¯¥ç‚¹ä¸ºæå°å€¼ç‚¹  
  * å¦‚ä¸€ç‚¹$\boldsymbol{x}$çš„$\nabla=0$ï¼Œåˆ™è¯¥ç‚¹ä¸ºæå°å€¼ç‚¹
* $l-$å‡¸  
  å¯¹äº$f\in C^2$ï¼ˆå­˜åœ¨æµ·æ£®çŸ©é˜µï¼‰ï¼Œå¦‚æœ$\nabla^2\succ0$ï¼Œåˆ™ä¸€å®šä¸º$l-$å¼ºå‡¸ï¼Œ$l$æœ€å¤§å¯å–$\nabla^2$çš„æœ€å°ç‰¹å¾å€¼ã€‚
* æå¤§åŒ–é—®é¢˜çš„æœ€ä¼˜è§£å¿…è¦æ¡ä»¶ â€”â€” æœ€å¤§å€¼ä¸€å®šæ˜¯æŸä¸ªæç‚¹

---

## ğŸŒŸä¸€ã€é‡è¦æ€æƒ³ - å¤šå…ƒå‡½æ•°å®šä¹‰åŸŸé™åˆ¶ä¸ºç›´çº¿ã€è½¬åŒ–ä¸ºä¸€å…ƒå‡½æ•°

> è¿™æ˜¯éå¸¸é‡è¦çš„â€œ**è½¬åŒ–**â€çš„æ€æƒ³ï¼š  
> åŸæœ¬ç ”ç©¶ä¸€ä¸ªå¤šå…ƒå‡½æ•°ï¼Œè¦æ±‚è§£å®ƒçš„æå€¼ï¼Œä½†å¯ä»¥è½¬åŒ–ä¸ºä¸€ä¸ªä¸€å…ƒå‡½æ•°çš„é—®é¢˜ï¼Œ  
> æ–¹æ³•å°±æ˜¯æŠŠå…¶å®šä¹‰åŸŸé™åˆ¶åˆ°ä¸€ä¸ªç›´çº¿ä¸Šï¼Œ$f(\boldsymbol{x})\to f(\boldsymbol{x}+\alpha\boldsymbol{d})\to\phi(\alpha)$ã€‚

**ç›´çº¿ã€å°„çº¿ã€çº¿æ®µçš„ä¸€å…ƒï¼ˆå‚æ•°ï¼‰è¡¨ç¤ºæ–¹æ³•**ï¼š

* ç›´çº¿ï¼š$\{\boldsymbol{x}+\alpha\boldsymbol{d}: \alpha\in \mathbb{R}\}$
* å°„çº¿ï¼š$\{\boldsymbol{x}+\alpha\boldsymbol{d}: \alpha\ge0\}$
* çº¿æ®µï¼š$\{\boldsymbol{x}+\alpha\boldsymbol{d}: \alpha\in [0,1]\}$

åŸæœ¬ä¸€å¤šå…ƒå‡½æ•°$f(\boldsymbol{x})$ä¸º$\mathbb{R}^n\to\mathbb{R}$ï¼Œ**åªè€ƒè™‘å…¶åœ¨å®šä¹‰åŸŸä¸ŠæŸä¸ªç›´çº¿çš„éƒ¨åˆ†**ï¼Œ  
ä»¤$\alpha\in R$ï¼Œå–ä¸€ç‚¹$\boldsymbol{x}$å’Œæ–¹å‘$\boldsymbol{d}$ï¼Œå¾—åˆ°ç›´çº¿$\boldsymbol{x}+\alpha\boldsymbol{b}$ï¼Œ  
å¯¹åŸå‡½æ•°è¿›è¡Œå¤åˆï¼š  
$$
\phi(\alpha)=f(\boldsymbol{x}+\alpha \boldsymbol{d})
$$
æ­¤æ—¶$\phi$åˆ™ä¸ºä¸€å…ƒå‡½æ•°ï¼ˆç»™ä¸€ä¸ªå®æ•°$\alpha$ï¼Œé¦–å…ˆå¾—åˆ°å‘é‡$\boldsymbol{x}+\alpha\boldsymbol{d}$ï¼Œç„¶åé€šè¿‡$f$å˜æ¢åˆ°$\mathbb{R}$ï¼Œå³$\mathbb{R}\to\mathbb{R}$ï¼‰ã€‚

> ä¸¾ä¾‹ - äºŒå…ƒå‡½æ•°$f(\boldsymbol{x})=100(x_2-x_1^2)^2+(1-x_1)^2$ï¼š
>
> å–ç‚¹$\boldsymbol{x}=(0,0)$ã€æ–¹å‘$\boldsymbol{d}=(1,0)$ï¼Œ$\alpha\in R$  
> ç›´çº¿$\boldsymbol{x}+\alpha\boldsymbol{d}=(\alpha,0)$åˆ™ä¸ºxè½´ï¼Œ  
> ä»£å…¥ï¼Œå¾—ï¼š
> $$
> \phi(\alpha)=f(\boldsymbol{x}+\alpha\boldsymbol{d})=100(-\alpha^2)^2+(1-\alpha)^2=100\alpha^4+(\alpha-1)^2
> $$
>
> ç„¶åå¯æ±‚ä¸€èŠ‚äºŒé˜¶å¯¼ï¼ˆæ•´ä¸ªçš„å¯¼æ•°æˆ–æŸä¸€ç‚¹çš„å¯¼æ•°ï¼‰ã€‚

å¯¹äºå¤åˆå‡½æ•°$\phi(\alpha)$ï¼š

$$
\phi(\alpha)=f(\boldsymbol{x}+\alpha\boldsymbol{d})
$$

### 1. å¯¼æ•°

* $\phi'(\alpha)=\boldsymbol{d}^T \nabla f(\boldsymbol{x}+\alpha\boldsymbol{d})$  
  > æ¥æºï¼š
  >
  > $\frac{\text{d}\phi}{\text{d}\alpha}=\frac{\text{d}f(\boldsymbol{x}+\alpha\boldsymbol{d})}{\text{d}(\boldsymbol{x}+\alpha\boldsymbol{d})}\frac{\text{d}(\boldsymbol{x}+\alpha\boldsymbol{d})}{\text{d}\alpha}=\nabla f(\boldsymbol{x}+\alpha\boldsymbol{d})d^T$ï¼Œç”±äºæ˜¯æ ‡é‡ï¼Œå¯ä»¥å¯¹è°ƒã€‚

  éœ€æ³¨æ„ï¼šæ˜¯$f(\boldsymbol{x}+\alpha\boldsymbol{d})$çš„æ¢¯åº¦ï¼Œå³æœ‰$\boldsymbol{d}$ï¼Œå…ˆæ±‚$\boldsymbol{d}^T$ç‚¹ä¹˜æ¢¯åº¦$\nabla f$ï¼Œæ­¤æ—¶æ˜¯å…³äº$\boldsymbol{x}$çš„å¼å­ï¼Œ  
  ç„¶åå¯¹æŸä¸ª$\boldsymbol{x}$ï¼Œé€šè¿‡$\boldsymbol{x}+\alpha\boldsymbol{d}$ï¼Œç®—å‡º$f(\boldsymbol{x})$çš„æ¯ä¸ªåˆ†é‡$x_i$æ˜¯å¤šå°‘ï¼Œç„¶åå†å¸¦å…¥ä¸Šå¼ï¼Œå¾—åˆ°å…³äº$\alpha$çš„å¼å­ã€‚  
  > ä¸¾ä¾‹ - $f(x,y)=100(y-x^2)^2+(1-x)^2$ï¼š
  >
  > $\nabla f=(400x^3-400xy+2x-2, -200x^2+200y)$  
  > $\phi'(\alpha)=\boldsymbol{d}^T\nabla f=d_1\nabla_1+d_2\nabla_2$ï¼ˆæ­¤æ—¶æ˜¯å…³äº$\boldsymbol{x}$çš„ï¼‰
  >
  > å½“$\boldsymbol{x}=(1,2),\boldsymbol{d}=(2,1)$æ—¶ï¼Œ  
  > $\phi'(\alpha)=800x^3-800xy+4x+4-200x^2+200y$  
  > $\boldsymbol{x}+\alpha\boldsymbol{d}=(1+2\alpha,2+\alpha)$  
  > ä»£å…¥$x=1+2\alpha,y=2+\alpha$å¾—ï¼š$\phi'(\alpha)=\cdots$ï¼ˆæ­¤æ—¶æ˜¯å…³äº$\alpha$çš„ï¼‰
* $\phi''(\alpha)=\boldsymbol{d}^T \nabla^2 f(\boldsymbol{x}+\alpha\boldsymbol{d})\boldsymbol{d}$

### 2. æ›²ç‡

å¹³é¢**æ›²çº¿**$C:y=\phi(\alpha)$åœ¨ç‚¹$(\alpha,\phi(\alpha))$å¤„çš„ï¼ˆå±€éƒ¨ï¼‰æ›²ç‡ä¸ºï¼š

$$
k(\alpha)=\frac{\phi^{\prime \prime}(\alpha)}{\sqrt{\left(1+\left(\phi^{\prime}(\alpha)\right)^{2}\right)^{3}}}
$$

åªç ”ç©¶å…¶ç¬¦å·â€”â€”åˆ†æ¯æ˜¯æ­£æ•°ï¼Œç¬¦å·ç”±åˆ†å­ï¼Œå³äºŒé˜¶å¯¼å†³å®šï¼Œ  
æ•…ï¼š**æ›²ç‡å¤§äº0$\Leftrightarrow$äºŒé˜¶å¯¼æ•°å¤§äº0**ã€‚

### 3. æ³°å‹’å±•å¼

* çš®äºšè¯ºä½™é¡¹  
  åŠ ä¸Šä¸‹ä¸€é˜¶çš„æ— ç©·å°é‡ã€‚
  * äºŒé˜¶ï¼š$\phi(\alpha)=\phi(0)+\phi'(0) \alpha+o(\alpha)$
  * ä¸‰é˜¶ï¼š$\phi(\alpha)=\phi(0)+\phi'(0) \alpha+\frac{1}{2} \phi''(0) \alpha^{2}+o(\alpha^{2})$
* æ‹‰æ ¼æœ—æ—¥ä½™é¡¹  
  å¯¹åº”é˜¶å–$0\sim\alpha$çº¿æ®µä¸Šçš„ç‚¹ï¼Œå³$\theta\alpha$ã€‚
  * äºŒé˜¶ï¼š$\phi(\alpha)=\phi(0)+\phi^{'}(\theta \alpha) \alpha \quad(\theta\in(0,1))$
  * ä¸‰é˜¶ï¼š$\phi(\alpha)=\phi(0)+\phi^{'}(0) \alpha+\frac{1}{2} \phi''(\theta \alpha) \alpha^{2} \quad(\theta\in(0,1))$
* ç§¯åˆ†ä½™é¡¹ï¼ˆå®šç§¯åˆ†åŸºæœ¬å®šç†ï¼‰ï¼š$\phi(\alpha)=\phi(0)+\int_{0}^{\alpha} \phi^{\prime}(t) \mathrm{d} t$

ç”±æ­¤å¯ä»¥å¾—åˆ°å¤šå…ƒå‡½æ•°$f(\boldsymbol{x})$çš„**æ³°å‹’å±•å¼**ï¼ˆæ‹‰æ ¼æœ—æ—¥ä½™é¡¹ï¼‰ï¼š

* ä¸€é˜¶ï¼š$f(\boldsymbol{x})=f(\boldsymbol{x}_0)+\nabla f(\boldsymbol{x}_0+\theta(\boldsymbol{x}-\boldsymbol{x}_0))^T(\boldsymbol{x}-\boldsymbol{x}_0)$
* äºŒé˜¶ï¼š$f(\boldsymbol{x})=f(\boldsymbol{x}_0)+\nabla f(\boldsymbol{x}_0)^T(\boldsymbol{x}-\boldsymbol{x}_0)+\frac{1}{2}(\boldsymbol{x}-\boldsymbol{x}_0)^T\nabla^2f(\boldsymbol{x}_0+\theta(\boldsymbol{x}-\boldsymbol{x}_0))(\boldsymbol{x}-\boldsymbol{x}_0) \quad(\theta\in(0,1))$

è¿™é‡Œåœ¨[Ep.3 ä¸­çš„ ä¸‰ã€2é‡è¦æ€æƒ³ - å¤šå…ƒå‡½æ•°çš„å±€éƒ¨äºŒæ¬¡è¿‘ä¼¼å‡½æ•°](../Ep.3%20æœ€ä¼˜è§£å’Œç®—æ³•çš„åŸºæœ¬æ€§è´¨/3.md#2-é‡è¦æ€æƒ³---å¤šå…ƒå‡½æ•°çš„å±€éƒ¨äºŒæ¬¡è¿‘ä¼¼å‡½æ•°)æœ‰è¯¦ç»†è¯´æ˜ã€‚

### 4. å¯¹åŸå¤šå…ƒå‡½æ•°çš„å½±å“

å¯¹å¤šå…ƒå‡½æ•°$f$ï¼Œåœ¨æŸç‚¹$\boldsymbol{x}$å’Œæ–¹å‘$\boldsymbol{d}$ï¼Œ  
å®šä¹‰$\phi(\alpha)=f(\boldsymbol{x}+\alpha\boldsymbol{d})$ï¼Œç§°ï¼š

* $\phi'(0)$ ä¸º $f$ åœ¨ $\boldsymbol{x}$ æ²¿æ–¹å‘ $\boldsymbol{d}$ çš„æ–œç‡  
  æ–œç‡å†³å®šäº†
* $\phi''(0)$ ä¸º $f$ åœ¨ $\boldsymbol{x}$ æ²¿æ–¹å‘ $\boldsymbol{d}$ çš„æ›²ç‡  
  **æ›²ç‡å†³å®šäº†èƒ½å¦æ˜¯æå€¼â†’æ›²ç‡éè´Ÿ**ï¼ˆè€ƒè™‘æç«¯æƒ…å†µï¼ŒæŸç‚¹å±€éƒ¨ä¸€ç›´æ˜¯æ°´å¹³çš„ï¼Œå¦‚æœæ›²ç‡ä¸ºè´Ÿï¼Œåˆ™ä¼šæ‰ä¸‹å»ï¼Œä¸æ˜¯æå€¼ï¼‰

> æ€æƒ³ - æŸç‚¹å¤„çš„æ‰€æœ‰æ–¹å‘çš„æ–œç‡å’Œæ›²ç‡ï¼Œå…±åŒå†³å®šäº†è¯¥ç‚¹**èƒ½å¦æ˜¯æå°å€¼**ï¼š**æ–œç‡å’Œæ›²ç‡éƒ½è¦éè´Ÿ**ã€‚  
> æ–œç‡å°äº0ï¼Œæ²¿æ–¹å‘ä¼šä¸‹é™ï¼Œä¸€å®šä¸æ˜¯æå°å€¼ï¼›å½“æ–œç‡ç­‰äº0æ—¶ï¼Œè‹¥æ›²ç‡å°äº0ï¼Œæ²¿æ–¹å‘æ–œç‡å‡å°å¯¼è‡´å€¼ä¸‹é™ï¼Œä¸€å®šä¸æ˜¯æå°å€¼ã€‚

### Ex. å¦ä¸€ç§å½¢å¼ - ç”¨å‡¸å‡½æ•°å½¢å¼å°†å¤šå…ƒå‡½æ•°è½¬åŒ–ä¸ºä¸€å…ƒå‡½æ•°

*è¿™é‡ŒåŸæ¥è¯¾ä¸Šæ²¡è®²ï¼Œå¹¶ä¸”å‡¸å‡½æ•°æ˜¯ä¸‹é¢æ‰è®²çš„ï¼Œä¸è¿‡åé¢çš„è¯¾ä¼šç”¨åˆ°ï¼Œæ‰€ä»¥åˆ°è¿™é‡Œæ¥æ€»ç»“ã€‚*

é™¤äº†ä¸Šé¢è¯´çš„$\phi(\alpha)=f(\boldsymbol{x}+\alpha\boldsymbol{d})$çš„å°„çº¿å½¢å¼ï¼Œ  
è¿˜å¯ä»¥ç”¨ä¸‹é¢è¿™ç§**å‡¸å‡½æ•°çš„å½¢å¼**ï¼š
$$
\varphi(\theta)=f(\boldsymbol{x}+\theta(\boldsymbol{y}-\boldsymbol{x}))\quad(\theta\in[0,1])
$$

åˆ™ï¼š

* å€’æ•°ï¼š$\varphi'(\theta)=\nabla f(\boldsymbol{x}+\theta(\boldsymbol{y}-\boldsymbol{x}))^T(\boldsymbol{y}-\boldsymbol{x})$
* ç§¯åˆ† - é€šå¸¸å¯¹0åˆ°1ç§¯åˆ†ï¼š
  $$
  \begin{array}{ll}
    & \varphi(1)-\varphi(0) = \int_0^1\varphi'(\theta)\text{d}\theta\quad (\text{ä»£å…¥}\varphi(0),\varphi(1),\varphi'(\theta))  \\
    \Rightarrow& f(\boldsymbol{y})-f(\boldsymbol{x})=\int_0^1\nabla f(\boldsymbol{x}+\theta(\boldsymbol{y}-\boldsymbol{x}))^T(\boldsymbol{y}-\boldsymbol{x}) \text{d}\theta
  \end{array}
  $$

## äºŒã€å‡¸å‡½æ•°

**ç®€å•ç†è§£**ï¼š

* åŸå‡½æ•°ï¼šç¢—çŠ¶ï¼ˆå‡½æ•°ä¸Šä»»æ„ä¸¤ç‚¹è¿çº¿ï¼Œä¸ä¼šæœ‰éƒ¨åˆ†ä½äºå‡½æ•°ä¸‹æ–¹ï¼‰  
  ![å‡¸å‡½æ•°](<images/image-2.2. å‡¸å‡½æ•°.png>)
* ä¸€é˜¶å¯¼ï¼šå•è°ƒé€’å¢
* äºŒé˜¶å¯¼ï¼šæ’å¤§äºç­‰äº0

### 1. æ•°å­¦æè¿°ï¼ˆåŒ…æ‹¬ä¸¥æ ¼å‡¸å‡½æ•°ï¼‰

å¯¹äºä¸€ä¸ªå‡¸é›†$S$ä¸Šï¼ˆå®šä¹‰åŸŸï¼‰çš„å‡½æ•°$f$ï¼Œå–$\boldsymbol{x_0},\boldsymbol{x_1}\in S, \theta\in[0,1]$  
å¦‚æœæ»¡è¶³
$$
f((1-\theta)\boldsymbol{x_0}+\theta\boldsymbol{x_1})\le(1-\theta)f(\boldsymbol{x_0})+\theta f(\boldsymbol{x_1})
$$
åˆ™ç§°$f$æ˜¯**å‡¸å‡½æ•°**ã€‚  
ï¼ˆå·¦ä¾§æŒ‡ä¸¤ç‚¹é—´æŸä¸€ç‚¹çš„å‡½æ•°å€¼ã€å³ä¾§æŒ‡è¯¥ç‚¹åœ¨çº¿æ®µä¸Šçš„å€¼ï¼‰

è®°å‡¸ç»„åˆæ“ä½œä¸º$\text{Conv}(\boldsymbol{x})$ï¼Œåˆ™å¯ä»¥ç®€å†™ä¸º$f(\text{Conv }(\boldsymbol{x_0},\boldsymbol{x_1}))\le\text{Conv }(f(x_0), f(x_1))$

*æ³¨ï¼šè¿™é‡Œçš„$S$ä»…æŒ‡ä»»æ„ä¸€ä¸ªå‡¸é›†ï¼Œæ— å…¶å®ƒæ„ä¹‰ã€‚*

**ä¸¥æ ¼å‡¸å‡½æ•°**ï¼š

å¦‚æœå¯¹$\theta\in(0,1), \boldsymbol{x_0}\ne\boldsymbol{x_1}$ï¼Œä¸Šå¼ä¸ç­‰å·ä¸å–ç­‰ï¼Œå³$f(\text{Conv }(\boldsymbol{x_0},\boldsymbol{x_1}))<\text{Conv }(f(x_0), f(x_1))$ï¼‰ï¼Œ  
åˆ™ç§°$f$æ˜¯**ä¸¥æ ¼å‡¸**çš„ã€‚  
å‡ ä½•ä¸ŠæŒ‡å¼¦ä¸èƒ½è·Ÿå‡½æ•°é‡å’Œï¼Œå³å‡½æ•°å›¾åƒä¸èƒ½å­˜åœ¨ä¸€æ®µçº¿æ®µï¼ˆå¦‚$y=x$æ˜¯å‡¸çš„ï¼Œä½†ä¸æ˜¯ä¸¥æ ¼å‡¸çš„ï¼‰ã€‚

**å‡¹å‡½æ•°**ï¼š

å¦‚æœ$-f$æ˜¯å‡¸å‡½æ•°ï¼Œåˆ™$f$æ˜¯**å‡¹å‡½æ•°**ï¼›å¦‚æœ$-f$æ˜¯ä¸¥æ ¼å‡¸å‡½æ•°ï¼Œåˆ™$f$æ˜¯**ä¸¥æ ¼å‡¹å‡½æ•°**ã€‚  
æ•…**å‡¹å‡½æ•°ä¸€èˆ¬å–å**ï¼Œè½¬æ¢ä¸ºå‡¸å‡½æ•°ã€‚

### 2. å‡¸å‡½æ•°å…¸ä¾‹

* $\mathbb{R}$ä¸Šï¼š$x^2$ã€$x^4$ã€$e^x$  
  å¹¶ä¸”å‡ä¸ºä¸¥æ ¼å‡¸ï¼ˆä¸‹é¢ä¸å†ç»™å‡ºä¸¥æ ¼å‡¸çš„åˆ¤å®šï¼‰ã€‚
* $\mathbb{R}_+$ï¼ˆæ­£åŠè½´å«0ï¼‰ä¸Šï¼š$x^k(k\ge1)$ã€$-x^k(k\in(0,1])$  
* $\mathbb{R}_{++}$ï¼ˆæ­£åŠè½´ä¸å«0ï¼‰ä¸Šï¼š$-\ln x,x\ln x$  
  ![x ln x å›¾åƒ](<images/image-2.2. å‡¸å‡½æ•°-1.png>)  
  æ³¨æ„ä¸Šå›¾ä¸èƒ½å–åˆ°$0$
* ğŸŒŸ$\mathbb{R}^n$ä¸Šï¼š
  * **ä»¿å°„å‡½æ•°**$\boldsymbol{a}^T\boldsymbol{x}+b$  
    å…¶æ—¢å‡¸åˆå‡¹ï¼ˆ$\because\nabla^2=0$ï¼‰ï¼Œä½†ä¸ä¸¥æ ¼
  * ä»»ä½•èŒƒæ•°$||\cdots||$
    > è¯ - å³è¯$||(1-\theta)\boldsymbol{x}_0+\theta\boldsymbol{x}_1||\le(1-\theta)||\boldsymbol{x_0}||+\theta||\boldsymbol{x_1}||$ï¼š
    >
    > ç”±èŒƒæ•°çš„ä¸‰è§’ä¸ç­‰å¼ï¼ˆå’Œçš„èŒƒæ•°ï¼ˆç¬¬ä¸‰è¾¹ï¼‰$\le$èŒƒæ•°ï¼ˆä¸¤è¾¹ï¼‰ä¹‹å’Œï¼‰çŸ¥  
    > $||(1-\theta)\boldsymbol{x_0}+\theta\boldsymbol{x_1}||\le||(1-\theta)\boldsymbol{x}_0||+||\theta\boldsymbol{x}_1||$
    >
    > åˆ$\because (1-\theta),\theta \ge 0$  
    > $\therefore$å³ä¾§ç»å¯¹å€¼ç³»æ•°æå‡ºå»$\to(1-\theta)||\boldsymbol{x_0}||+\theta||\boldsymbol{x_1}||$ï¼Œå¾—è¯ã€‚
  
### 3. æ€§è´¨

* ğŸŒŸ**åˆ©ç”¨å›¾åƒåˆ¤æ–­å‡¸å‡½æ•°** - **ä¸Šé•œå›¾**  
  ï¼ˆ$S$æ˜¯å‡¸é›†ï¼Œ$f$åœ¨$S$ä¸Šï¼‰$f$ä¸ºå‡¸å‡½æ•°$\Leftrightarrow$$f$çš„ä¸Šé•œå›¾$\text{epi}f$æ˜¯å‡¸é›†ã€‚
  > ä¸Šé•œå›¾æ˜¯ä¸€ä¸ªé›†åˆï¼Œä»£è¡¨æ‰€æœ‰å¤§äºï¼ˆé«˜äºï¼‰å‡½æ•°çš„èŒƒå›´ï¼ˆå³$\text{epi}f=\{(x,r)\in S\times\mathbb{R}: f(\boldsymbol{x})\le r\}$  
  > å‡ ä½•ä¸Šå³å‡½æ•°çš„**è¾¹ç•ŒåŠ ä¸Šä¸Šæ–¹**ã€‚
  >
  > è¯æ˜å¯çœ‹[ç¬¬3å‘¨æ˜ŸæœŸ3ç¬¬3,4èŠ‚](https://classroom.msa.buaa.edu.cn/livingroom?course_id=56986&sub_id=1664398&tenant_code=21)çš„ 20:28 ~ 26:53

  **ç”¨é€”**ï¼šå°†å‡¸å‡½æ•°çš„åˆ¤æ–­ï¼Œä¸å‡¸é›†çš„åˆ¤æ–­ç›¸äº’è½¬æ¢ã€‚
* å‡¸å‡½æ•°å®šä¹‰æ¨å¹¿åˆ°ä»»æ„$m$ä¸ªæ•° - Jesenä¸ç­‰å¼ï¼š  
  $$
  f(\frac{\sum a_i\boldsymbol{x}_i}{\sum a_s})\le\frac{\sum a_if(\boldsymbol{x}_i)}{\sum a_s}
  $$  
  å³$f(\sum \theta_i \boldsymbol{x}_i)\le \sum \theta_i f(\boldsymbol{x}_i)$ï¼Œ$f(\text{Conv})\le\ \text{Conv}f$ã€‚  
  > è¯æ˜å¯çœ‹[ç¬¬3å‘¨æ˜ŸæœŸ3ç¬¬3,4èŠ‚](https://classroom.msa.buaa.edu.cn/livingroom?course_id=56986&sub_id=1664398&tenant_code=21)çš„ 28:15 ~ 30ï¼š27

  **ç”¨é€”**ï¼šå¯¹$f(\text{Conv})$è¿›è¡Œæ”¾ç¼©ï¼Œå˜æˆè‹¥å¹²ä¸ª$f(\boldsymbol{x})$ã€‚
* **å‡¸å‡½æ•°çš„ä»»æ„ä¸€å…ƒ$\phi$å‡½æ•°ä¹Ÿå‡¸** - å‡¸æ€§æ˜¯ä¸€ç»´æ€§è´¨ï¼š  
  $f$åœ¨$\mathbb{R}^n$ä¸Šä½å‡¸å‡½æ•°$\Leftrightarrow$ä»»æ„ä¸€ç‚¹$\boldsymbol{x}_0,\boldsymbol{d}\in\mathbb{R}^n$çš„$\phi(\alpha)=f(\boldsymbol{x}_0+\alpha\boldsymbol{d})$åœ¨$\mathbb{R}$ä¸Šå‡¸  
  æ³¨æ„ï¼šè¿™ä¸ªå……è¦æ¡ä»¶ï¼Œå‰æ¨åæ˜¯è¯´æ˜ä»»æ„ä¸€ç‚¹çš„æ‰€æœ‰æ–¹å‘çš„$\phi$å‡¸ï¼Œä½†åæ¨å‰æ˜¯æ‰€æœ‰ç‚¹çš„æ‰€æœ‰æ–¹å‘çš„$\phi$éƒ½è¦æ±‚å‡¸ã€‚
* å‡¸å‡½æ•°çš„è¿ç»­æ€§ï¼š  
  * å‡¸å‡½æ•°çš„**ç›¸å¯¹å†…éƒ¨ä¸€å®šè¿ç»­**ï¼ˆä½†ç›¸å¯¹è¾¹ç•Œå¯èƒ½ä¸è¿ç»­ï¼Œå³åœ¨ç«¯ç‚¹å¤„è·³è·ƒï¼‰
  * å¦‚æœ$K$æ˜¯ç›¸å¯¹å†…éƒ¨çš„ä¸€ä¸ªæœ‰ç•Œé—­é›†ï¼ˆè§Ep.2 äºŒï¼‰ï¼Œé‚£ä¹ˆ$f$åœ¨$K$ä¸Šæ˜¯$G-\text{Lipschitz}$è¿ç»­çš„  
    > å®šä¹‰ - $G-\text{Lipschitz}$ï¼ˆè¿ç»­ï¼‰ï¼š
    >
    > å¯¹å‡½æ•°$f$è€Œè¨€ï¼Œæ»¡è¶³
    > $$
    > |f(\boldsymbol{x})-f(\boldsymbol{y})|\le G||\boldsymbol{x}-\boldsymbol{y}||\quad(\boldsymbol{x},\boldsymbol{y}\in K)
    > $$
    >
    > å‡½æ•°çš„æ”¹å˜é‡ï¼Œå¯ä»¥è¢«è‡ªå˜é‡çš„æ”¹å˜é‡çš„çº¿æ€§å‡½æ•°æ§åˆ¶ï¼Œ  
    > å³å‡½æ•°å˜åŒ–ç‡ä¸è¦å¤ªå¤§ï¼Œå¯è¢«å¸¸æ•°å€¼$G$é™åˆ¶ã€‚
    >
    > åç»­ä¼šæ›´è¯¦ç»†è®²è§£ã€‚
* å‡¸å‡½æ•°çš„**ä¸‹æ°´å¹³é›†åˆæ˜¯å‡¸é›†**ï¼ˆä¸ºå……åˆ†æ¡ä»¶ï¼Œè§ä¸‹[äº”](#äº”å‡¸ä¼˜åŒ–---å‡¸é›†ä¸Šæå°åŒ–å‡¸å‡½æ•°)ï¼‰

### 4. æ‹“å±• - l-å¼ºå‡¸å‡½æ•°

*æ³¨ï¼šè¯¥å†…å®¹åœ¨æœ¬èŠ‚æ²¡æœ‰ç›´æ¥ä½¿ç”¨åˆ°ï¼Œç¬¬ä¸€æ¬¡ä½¿ç”¨æ˜¯åœ¨ Ep.4 çš„ GD æ³•ä¸­ï¼Œä½†åœ¨è¿™é‡Œæå‰å®šä¹‰ã€‚*

> å®šä¹‰ - $l-$å¼ºå‡¸ï¼š  
>
> å¯¹äºå‡¸é›†$S$ä¸Šçš„å‡½æ•°$f$ï¼Œå¦‚æœæ»¡è¶³ï¼š
> $$
> f((1-\theta)x_0+\theta x_1)\le(1-\theta)f(x_0)+\theta f(x_1)-\frac{l}{2}\theta(1-\theta)||x_0-x_1||^2
> $$
> å…¶ä¸­$\boldsymbol{x}_0,\boldsymbol{x}_1\in S$ã€$l>0$ï¼Œ$\theta\in[0,1]$ã€‚
>
> æ³¨æ„ï¼š$l>0$ï¼Œ**ä¸èƒ½ç­‰äº0**ï¼ˆä¸ $L-$å…‰æ»‘ åŒºåˆ†ï¼‰ã€‚

å…¶ä¸­ç­‰å¼å³ä¾§ï¼Œå‰åŠéƒ¨åˆ†æœ¬æ¥å°±æ˜¯å‡¸å‡½æ•°çš„å®šä¹‰ï¼ŒååŠéƒ¨åˆ†åˆ™æ˜¯å‡å»ä¸€ä¸ªæ­£æ•°ä»æ»¡è¶³ã€‚  

å­˜åœ¨ä¸‰ç§**ç­‰ä»·å…³ç³»**ï¼š

1. $f-\frac{l}{2}||x||^2$è¿˜æ˜¯å‡¸å‡½æ•°
2. ï¼ˆ$f\in C^1$ï¼‰$f$å­˜åœ¨**äºŒæ¬¡ä¸‹ç•Œ**ï¼ˆæ³¨æ„æ˜¯ä¸‹ç•Œï¼Œä¸[Ep.4 çš„ ä¸‰ã€2.(0) çš„ $L-$å…‰æ»‘](../Ep.4%20æ¢¯åº¦ä¸‹é™æ³•(GD)/4.md#0-lipschitz-è¿ç»­äºŒæ¬¡ä¸‹ç•Œ)ï¼‰åŒºåˆ†ï¼‰ï¼š  
   $$
   f(\boldsymbol{y})\ge f(\boldsymbol{x})+\nabla f(\boldsymbol{x})^T(\boldsymbol{y}-\boldsymbol{x})+\frac{l}{2}||\boldsymbol{y}-\boldsymbol{x}||^2
   $$
   å³ï¼š$f$æœ¬èº«æ˜¯å‡¸å‡½æ•°ï¼Œå¯¹äºä»»æ„ä¸€ç‚¹è¿˜å­˜åœ¨ä¸ªå¼€å£æ›´å®½çš„å‡¸å‡½æ•°ï¼Œå°†å…¶æ‰˜ä½ã€‚
3. ğŸŒŸï¼ˆ$f\in C^2$ï¼‰$\nabla^2 f(x) \succcurlyeq lI$ï¼ˆ$\succcurlyeq$ä»£è¡¨çŸ©é˜µä¸ç­‰å¼ï¼Œå¯è§[Ep 0.äºŒã€2.(7)](../Ep.0%20åŸºç¡€çŸ¥è¯†/0.md#7-çŸ©é˜µä¸ç­‰å¼)ï¼‰  
   ç”±äº$\nabla^2$ä¸ºå¯¹ç§°çŸ©é˜µï¼Œå¯ç”¨ç‰¹å¾å€¼æè¿°æ­£å®šæ€§ï¼Œå³è¦æ»¡è¶³$l\le\lambda_{\min}(\nabla^2 f(x))$  
   æ‰€ä»¥å¯ä»¥è¯´ï¼š**å¦‚æœ$\nabla^2 f(x)\succ0$ï¼Œåˆ™$f$ä¸€å®šå¼ºå‡¸**ï¼Œ$l$å¯å– Hasse çŸ©é˜µçš„æœ€å°ç‰¹å¾å€¼$\lambda_{\min}$ã€‚
   > ç‰¹ä¾‹ - å¯¹äºä¸€å…ƒå‡½æ•°ï¼š
   >
   > ä¸€å…ƒå‡½æ•°$f(x)$ï¼Œåˆ™çœ‹å…¶äºŒé˜¶å¯¼$f''(x)$æ˜¯å¦æœ‰ä¸€ä¸ªä¸‹ç•Œ$l$ï¼Œå³$f''(x)\ge l$  
   > å¦‚æœæœ‰ï¼Œåˆ™è¯´$f(x)$æ˜¯$l-$å¼ºå‡¸çš„ã€‚

å…¶å®é™…å¯ä»¥ä»£è¡¨$f$æ›²ç‡çš„ä¸‹ç•Œï¼ˆç”±ç­‰ä»·3ä¹Ÿå¯ä»¥çœ‹å‡ºï¼‰ï¼Œ  
æ›´å¤šç†è§£å¯ä»¥çœ‹[Ep.4 çš„ä¸‰ã€2.(3) ä¸­$l$çš„å‡ ä½•æ„ä¹‰](../Ep.4%20æ¢¯åº¦ä¸‹é™æ³•(GD)/4.md#3-f-æ˜¯-l-å…‰æ»‘-å’Œ-l-å¼ºå‡¸-çš„å‡½æ•°)ã€‚ï¼ˆEp.4 ä¸­å°† $l-$å¼ºå‡¸ å’Œ $L-$å…‰æ»‘ ç»¼åˆåœ¨ä¸€èµ·ç†è§£äº†ï¼‰

## ä¸‰ã€å¯å¾®å‡¸å‡½æ•°çš„åˆ»ç”»ï¼ˆå‡¸å‡½æ•°å……è¦æ¡ä»¶ï¼‰

*å‰é¢è®²äº†å‡¸å‡½æ•°çš„å®šä¹‰ï¼Œé™¤äº†ç”¨å®šä¹‰æ¥åˆ¤æ–­ï¼Œè¿˜å¯ä»¥ç”¨ä¸‹é¢çš„å……è¦æ¡ä»¶æ¥åˆ¤æ–­ã€‚*

### 1. ä¸€é˜¶æ¢¯åº¦ï¼ˆæ¢¯åº¦ä¸ç­‰å¼, GIï¼‰

å¯¹ä¸€ä¸ª$f\in C^1$ï¼Œ  
$f$åœ¨å‡¸é›†$S$ä¸Šæ˜¯å‡¸å‡½æ•°ï¼Œ**å½“ä¸”ä»…å½“**$\forall\boldsymbol{x,y}\in S$ï¼š
$$
f(\boldsymbol{y})\ge f(\boldsymbol{x})+\nabla f(\boldsymbol{x})^T(\boldsymbol{y}-\boldsymbol{x})
$$

*Tip. é€šè¿‡å–åä¹Ÿå¯ä»¥å†™æˆ$f(\boldsymbol{x})\le f(\boldsymbol{y})+\nabla f(\boldsymbol{x})^T(\boldsymbol{x}-\boldsymbol{y})$ï¼Œä½†åªæœ‰ä¸Šé¢é‚£ä¹ˆå†™æœ‰å®é™…å‡ ä½•æ„ä¹‰ã€‚*

å½“å›ºå®š$\boldsymbol{x}\to\boldsymbol{x}_0$ï¼Œå¯¹äºç­‰å¼å³ä¾§ï¼Œåˆ™$\boldsymbol{x}_0$å¤„çš„åˆ‡çº¿ï¼ˆä¸€å…ƒï¼‰/åˆ‡å¹³é¢ï¼ˆäºŒå…ƒï¼‰ã€‚

**ç†è§£**ï¼š

* **å‡ ä½•ä¸Š**ï¼šå‡½æ•°å›¾å½¢åœ¨ä»»æ„ä¸€ç‚¹å¤„çš„åˆ‡çº¿/åˆ‡å¹³é¢ï¼Œæ”¯æ’‘ï¼ˆå³åœ¨ä¸‹æ–¹æ’‘èµ·ï¼‰å‡½æ•°å›¾å½¢ï¼ˆä¸Šé•œå›¾è‚¯å®šä¹Ÿæ”¯æ’‘ï¼‰ã€‚
* **åˆ†æä¸Š**ï¼ˆç”¨åˆ‡çº¿é€¼è¿‘å‡½æ•°å€¼ï¼‰ï¼šçº¿æ€§è¿‘ä¼¼ï¼ˆä¸€é˜¶æ³°å‹’å±•å¼€ï¼Œå³æ­¤å¤„çš„åˆ‡çº¿/åˆ‡å¹³é¢è®¡ç®—çš„å€¼ï¼‰æ˜¯å‡½æ•°å€¼çš„**åä½ä¼°è®¡**ã€‚  
  å³å¦‚æœç”¨ä¸€ç‚¹å¤„çš„åˆ‡çº¿/åˆ‡å¹³é¢ä¼°è®¡å¦ä¸€ç‚¹ï¼Œå…¶å€¼æ°¸è¿œå°äºçœŸå®å‡½æ•°å€¼ï¼ˆè¶Šè¿‘è¶Šç²¾ç¡®ï¼‰ã€‚

ğŸŒŸ**é‡è¦æ¨è®º - å‡¸å‡½æ•°é©»ç‚¹ä¸ºå…¨å±€æå°ç‚¹**  
åŸå› æ˜¯æ ¹æ®ä¸Šå¼ï¼Œé©»ç‚¹å¤„ä¸º$f(\boldsymbol{y})\ge f(\boldsymbol{x})$ï¼Œå³å…¶ä½™ç‚¹éƒ½å¤§äºè¯¥ç‚¹ã€‚
> åŸæœ¬é©»ç‚¹åªæ˜¯å…¨å±€æå°ç‚¹çš„ä¸€ä¸ª**å¿…è¦æ¡ä»¶**ï¼ˆå…¨å±€æå°ç‚¹ä¸€å®šæ˜¯é©»ç‚¹ï¼›ä½†é©»ç‚¹ä¸ä¸€å®šæ˜¯å…¨å±€æå°ç‚¹ï¼ˆä¹Ÿå¯èƒ½æ˜¯å±€éƒ¨ï¼‰ï¼‰ï¼›  
> åœ¨å‡¸å‡½æ•°ä¸­ï¼Œé©»ç‚¹æˆä¸ºäº†å…¨å±€æå°ç‚¹çš„**å……è¦æ¡ä»¶**ã€‚

### 2. äºŒé˜¶æ¢¯åº¦

å¦‚æœ$f\in C^2$ï¼Œ  
$f$åœ¨å¼€å‡¸é›†$S'$ä¸Šæ˜¯å‡¸å‡½æ•°ï¼Œ**å½“ä¸”ä»…å½“**$\forall\boldsymbol{x}\in S$ï¼š
$$
fä¸ºå‡¸å‡½æ•°\Leftrightarrow\nabla^2 f(\boldsymbol{x})\succeq0
$$
*å³ä¹‹å‰ç®€å•ç†è§£æåˆ°çš„â€œäºŒé˜¶å¯¼å¤§äº0â€ã€‚*

æ‹“å±•ï¼šå¦‚æœ$\nabla^2\succ0$ï¼Œåˆ™ä¸º**ä¸¥æ ¼å‡¸**ã€‚

åŸºäºè¿™ä¸ªå®šç†ï¼Œå¯¹äºä¸€ä¸ª**å¤šå…ƒäºŒæ¬¡å‡½æ•°**$f(x)=\frac{1}{2}\boldsymbol{x}^TG\boldsymbol{x}-\boldsymbol{b}^T\boldsymbol{x}$ï¼Œ  
åˆ¤å®šæ–¹æ³•å˜ä¸ºï¼š$G\succeq0$

> æ³¨æ„ï¼šå½“æŒ‰ä¸Šè¿°å¤šå…ƒäºŒæ¬¡å‡½æ•°å†™æ—¶ï¼Œå³$\boldsymbol{x}^TG\boldsymbol{x}$å‰æœ‰ç³»æ•°$\frac{1}{2}$ï¼Œåˆ™**é»˜è®¤$G$æ˜¯å¯¹ç§°çŸ©é˜µ**ã€‚

## å››ã€å‡¸å‡½æ•°çš„ä¿å‡¸è¿ç®—

è‹¥å¹²ä¸ªå‡¸å‡½æ•°$f_i$ï¼Œç»è¿‡è¿ç®—å¾—åˆ°çš„æ–°å‡½æ•°è¿˜æ˜¯å‡¸å‡½æ•°ã€‚

* **é”¥ç»„åˆ**ï¼ˆéè´Ÿçº¿æ€§ç»„åˆï¼‰  
  å½“$\alpha_i\ge0$ï¼Œ$g=\sum \alpha_i f_i$ä¹Ÿå‡¸ã€‚  
  å¯ä»¥ç”¨äºå¯¹å¤æ‚å‡¸å‡½æ•°æ‹†è§£ä¸ºè‹¥å¹²ä¸ªç®€å•å‡¸å‡½æ•°çš„é”¥ç»„åˆã€‚
* **ä»¿å°„æ›¿æ¢**  
  $f$åœ¨$\mathbb{R}^n$ä¸Šå‡¸ï¼Œå¯¹äºä¸€ä¸ªä»¿å°„å˜æ¢$\boldsymbol{x}=A\boldsymbol{y}+\boldsymbol{b}$ï¼ˆå…¶ä¸­$\boldsymbol{y}\in\mathbb{R}^m,A_{n*m}$ã€ä»¿å°„å˜æ¢ä¸º$\mathbb{R}^m\to\mathbb{R}^n$ï¼Œä»£è¡¨$\boldsymbol{y}$ç»è¿‡ä»¿å°„å˜æ¢æ˜ å°„åˆ°$\boldsymbol{x}$ï¼Œæˆ–è¯´$\boldsymbol{x}$å¯ç”±$\boldsymbol{y}$ç»ä»¿å°„å˜æ¢å¾—åˆ°ï¼‰ï¼Œ  
  åˆ™$h(\boldsymbol{y})=f(A\boldsymbol{x}+\boldsymbol{b})$åœ¨$\mathbb{R}^m$ä¸Šå‡¸ã€‚
  > ä¸¾ä¾‹ï¼š
  >
  > * $\mathbb{R}^1\to\mathbb{R}^2$ï¼š$f(x)=x^2 \xrightarrow{x=[1,1]\boldsymbol{y}+0} h(\boldsymbol{y})=(y_1+y_2)^2$
  > * $\mathbb{R}^2\to\mathbb{R}^1$ï¼š$f(\boldsymbol{x})=x_1^2+x_2^2 \xrightarrow{\boldsymbol{x}=\begin{bmatrix}2\\3\end{bmatrix}y+\begin{pmatrix}1\\2\end{pmatrix}} h(y)=(2y+1)^2+(3y+2)^2$
* ğŸŒŸ**ä¸€ç»„å‡¸å‡½æ•°çš„é€ç‚¹ä¸Šç¡®ç•Œ**  
  å¯¹äºä¸€ç»„å‡¸å‡½æ•°$f_i\in I$ï¼Œ  
  $f(\boldsymbol{x})=\max f_i(\boldsymbol{x})$æ˜¯å‡¸çš„ã€‚
  > ä¸¾ä¾‹ï¼š
  >
  > * $f(x)=\max\{0,x\}$ï¼ˆReLUï¼‰
  > * $f(x)=\max\{-x,x\}=|x|$
  > * $f(x)=\max\{(x+1)^2,(x-1)^2\}$
  >
  > å‡ ä½•ä¸Šè¯æ˜ï¼š
  >
  > $\because$å‡½æ•°å‡¸$\Leftrightarrow$å…¶ä¸Šé•œå›¾ï¼ˆé›†åˆï¼‰å‡¸ã€‚  
  > é¦–å…ˆ$\text{dom}f$ä¸º$\cup\text{dom}f_i$ï¼Œ$\because$å‡¸é›†çš„äº¤é›†æ˜¯å‡¸çš„ï¼Œ$\therefore$å…¶å®šä¹‰åŸŸä¸ºå‡¸é›†ã€‚  
  > $f(\boldsymbol{x})$çš„ä¸Šé•œå›¾$\text{epi}f=\{(\boldsymbol{x},r):\boldsymbol{x}\in\text{dom}f,f(\boldsymbol{x})\le r\}$ï¼Œ$f\le r\to \max f_i\le r \to \forall f_i\le r$ï¼Œå°±æ˜¯$f_i(\boldsymbol{x})$çš„ä¸Šé•œå›¾æ±‚äº¤  
  > åˆ$\because$å‡¸é›†çš„äº¤é›†æ˜¯å‡¸çš„ï¼Œ  
  > $\therefore f(\boldsymbol{x})$çš„ä¸Šé•œå›¾å‡¸ï¼Œå¾—è¯ã€‚
* **å•è°ƒå¤åˆï¼ˆå¤–å±‚å•å¢ï¼‰**  
  $f$åœ¨$\mathbb{R}^n$ä¸Š**å‡¸**ï¼ˆ/å‡¹ï¼‰ï¼Œ$g$åœ¨$\mathbb{R}$ä¸Š**å‡¸ä¸”å•å¢**ï¼ˆ/å‡ï¼‰$\Rightarrow$$h(f(\boldsymbol{x}))$åœ¨$\mathbb{R}^n$ä¸Šå‡¸ã€‚

## äº”ã€å‡¸ä¼˜åŒ– - å‡¸é›†ä¸Šæå°åŒ–å‡¸å‡½æ•°

**å‡¸ä¼˜åŒ–**ï¼šåœ¨**å‡¸é›†**ä¸Šï¼Œå¯¹**å‡¸å‡½æ•°**æ±‚**æå°åŒ–**ã€‚  
å…·æœ‰å¾ˆå¥½çš„æ€§è´¨â€”â€”**å±€éƒ¨æå°ç‚¹å°±æ˜¯å…¨å±€æå°ç‚¹**ã€‚

åˆ¤æ–­å‡¸å‡½æ•°å®¹æ˜“ï¼Œä½†**åˆ¤æ–­å‡¸é›†**æœ‰äº›éš¾ï¼Œè¿™é‡Œç»™å‡ºä¸€ä¸ªæ–¹æ³•ï¼ˆå……åˆ†ï¼‰ï¼š

> **å‡¸å‡½æ•°çš„ä¸‹æ°´å¹³é›†åˆæ˜¯å‡¸é›†**ï¼š
>
> $f$æ˜¯å‡¸é›†$S$ä¸Šçš„å‡¸å‡½æ•°ï¼Œå¯¹äºä»»æ„å®æ•°$\forall c$ï¼Œ  
> $f$å…³äº$c$çš„ä¸‹æ°´å¹³é›†åˆ$\Gamma_c=\{\boldsymbol{x}\in S:f(\boldsymbol{x})\le c\}$æ˜¯å‡¸çš„ï¼ˆä¸ºé—­åŒºé—´ï¼‰ã€‚

å³å‡¸å‡½æ•°çš„**ä»»æ„æ¨ªåˆ‡é¢ä¹‹ä¸‹çš„å®šä¹‰åŸŸæ˜¯å‡¸çš„**ã€‚

> è¯æ˜ï¼š
>
> å³è¯$\forall\boldsymbol{x}_1,\boldsymbol{x}_2\in\Gamma_c$ï¼Œå…¶å‡¸ç»„åˆ$\boldsymbol{x}_{Conv}=(1-\theta)\boldsymbol{x}_1+\theta\boldsymbol{x}_2$ä¹Ÿ$\in\Gamma_c$ï¼Œ  
> å³è¯$\boldsymbol{x}_{Conv}\in S\And f(\boldsymbol{x}_{Conv})\le c$ã€‚
>
> $\because S$å‡¸ï¼Œ$\therefore (1-\theta)\boldsymbol{x}_1+\theta\boldsymbol{x}_2 = \boldsymbol{x}_{Conv}\in S$ï¼Œå­æ¡ä»¶1æˆç«‹  
> $\because f$å‡¸ï¼Œ$\therefore f(\boldsymbol{x}_{Conv})\le (1-\theta)f(\boldsymbol{x}_1)+\theta f(\boldsymbol{x}_2) \le (1-\theta)c+\theta c = c$ï¼Œå­æ¡ä»¶2æˆç«‹ï¼Œå¾—è¯ã€‚

### 1. ä»€ä¹ˆæ˜¯å‡¸ä¼˜åŒ–

$$
\begin{array}{cl}
\underset{\boldsymbol{x} \in X}{\operatorname{minimize}} & f(\boldsymbol{x}) \\
\text { subject to } & g_{j}(\boldsymbol{x}) \leq 0, j=1, \cdots, p \\
& \boldsymbol{a}_{i}^{T} \boldsymbol{x}-\boldsymbol{b}_{i}=0, i=1, \cdots, m
\end{array}
$$

å…¶ä¸­ï¼š

* é›†åˆçº¦æŸ - $X\in\mathbb{R}^n$æ˜¯å‡¸é›†
* ç›®æ ‡å‡½æ•° - $f$æ˜¯å‡¸å‡½æ•°
* ä¸ç­‰å¼çº¦æŸ - $\forall j, g_j$æ˜¯å‡¸å‡½æ•°
* ç­‰å¼çº¦æŸ - $\boldsymbol{a}_i^T\boldsymbol{x}-\boldsymbol{b}_i\quad(\forall i,\boldsymbol{a}_i\in\mathbb{R}^n,b_i\in\mathbb{R})$ï¼Œ**åªèƒ½æ˜¯è¿™ç§ä»¿å°„é›†ï¼ˆè¶…å¹³é¢ã€çº¿æ€§ç»„åˆï¼‰å½¢å¼**ã€‚  
  åŸå› ï¼šå¦‚æœä¸æ˜¯è¶…å¹³é¢å½¢å¼ï¼ˆå³äºŒç»´çš„çº¿ã€ä¸‰ç»´çš„é¢ï¼‰ï¼Œåˆ™**ä¸€å®šä¼šå¼¯æ›²ï¼Œåˆ™ä¸æ˜¯å‡¸é›†**ï¼ˆå› ä¸ºç­‰å¼çº¦æŸåªæ˜¯é‚£ä¸€æ¡æ›²çº¿æˆ–æ›²é¢ã€å¦‚æœä¸ºæ›²åˆ™è¿çº¿ä¸€å®šä¸åœ¨é›†åˆé‡Œæ•…éå‡¸é›†ï¼‰  

æ•…**ç»å…¸çš„å‡¸ä¼˜åŒ–**ï¼š

* çº¿æ€§è§„åˆ’ï¼ˆç›®æ ‡å‡½æ•°ã€ä¸ç­‰å¼çº¦æŸã€ç­‰å¼çº¦æŸå‡æ˜¯çº¿æ€§å‡½æ•°ï¼‰ â†’ æ’æ˜¯
* äºŒæ¬¡è§„åˆ’ï¼ˆä¸ç­‰å¼çº¦æŸã€ç­‰å¼çº¦æŸæ˜¯çº¿æ€§å‡½æ•°ï¼›ç›®æ ‡å‡½æ•°æ˜¯äºŒæ¬¡å‡½æ•°ï¼‰ â†’ åªæœ‰ç›®æ ‡å‡½æ•°çš„$\nabla^2\succeq0$æ‰æ˜¯

### 2. å‡¸ä¼˜åŒ–çš„æ€§è´¨

å¯¹äºå®šä¹‰åœ¨å‡¸é›†$S$ä¸Šçš„å‡¸å‡½æ•°$f$ï¼Œå­˜åœ¨ä»¥ä¸‹åŸºæœ¬æ€§è´¨ï¼ˆä»»æ„å‡¸å‡½æ•°å‡æ»¡è¶³ï¼Œå¯ç”¨äºå‡¸ä¼˜åŒ–çš„æ±‚è§£ï¼‰ï¼š

* $f$ä»»ä½•**å±€éƒ¨æå°ç‚¹éƒ½æ˜¯å…¨å±€æå°ç‚¹**
* $f$çš„æå°ç‚¹çš„ç‚¹é›†$\{\boldsymbol{x}_*\}$æ˜¯å‡¸é›†åˆ  
  æ³¨æ„ä¸å«$f_*$ï¼Œå¦‚$f(\boldsymbol{x})=x_1^2+x_2^2$ï¼Œåˆ™æå°ç‚¹çš„ç‚¹ä¸º$(x_1,x_2)$ï¼Œè€Œé$(x_1,x_2,f_{x^*})$
* å¦‚æœ$f$æ˜¯**ä¸¥æ ¼å‡¸å‡½æ•°**ï¼Œåˆ™åªæœ‰å”¯ä¸€çš„æœ€ä¼˜è§£ï¼ˆ$\{\boldsymbol{x}_*\}$é‡Œåªæœ‰ä¸€ä¸ªç‚¹ï¼‰

> ä¸‰ä¸ªæ€§è´¨çš„è¯æ˜ï¼š
>
> 1. è¯ï¼š  
>    å±€éƒ¨æå°ç‚¹$\boldsymbol{x_*}$ï¼Œå³å¯¹äº$\boldsymbol{x}_*$çš„ä¸€ä¸ªé¢†åŸŸå†…çš„æ‰€æœ‰$\boldsymbol{x}$ï¼Œ$f(\boldsymbol{x}_*)>f(\boldsymbol{x})$  
>    åè¯ - å³å‡è®¾$\exist$å¦ä¸€ä¸ªç‚¹$\boldsymbol{y},f(\boldsymbol{y})<f(\boldsymbol{x}_*)$  
>    ç”±$f$å‡¸å‡½æ•°çŸ¥ï¼š$\forall\theta\in(0,1),f((1-\theta)\boldsymbol{x}_*+\theta\boldsymbol{y})\le(1-\theta)f(\boldsymbol{x}_*)+\theta f(\boldsymbol{y})\le(1-\theta)f(\boldsymbol{x}_*)+\theta f(\boldsymbol{x}_*)=f(\boldsymbol{x}_*)$  
>    å½“$\theta\to0$æ—¶ï¼Œ$f((1-\theta)\boldsymbol{x}_*+\theta\boldsymbol{y})$å³ä¸º$\boldsymbol{x}_*$é™„è¿‘æå°é¢†åŸŸå†…çš„ä¸€ç‚¹å‡½æ•°å€¼$f(\boldsymbol{x}_*+\Delta)$ï¼Œå…¶å°äº$f(\boldsymbol{x}_*)$ï¼Œä¸æ¡ä»¶$f(\boldsymbol{x}_*)>f(\boldsymbol{x})$çŸ›ç›¾ï¼Œæ•…åè¯æˆåŠŸã€‚
> 2. è¯ï¼š  
>    $f_*=\underset{\boldsymbol{x}\in S}{\min} f(\boldsymbol{x})$ï¼Œæ‰€æœ‰æå°ç‚¹çš„é›†åˆ$S_*=\underset{\boldsymbol{x}\in S}{\argmin} f(\boldsymbol{x})=\{\boldsymbol{x}\in S: f(\boldsymbol{x})=f_*\}$  
>    è€Œå› ä¸º$f_*$å·²ç»æ˜¯æå°å€¼äº†ï¼Œ$f(\boldsymbol{x})$ä¸å¯èƒ½æ¯”å…¶æ›´å°ï¼Œæ‰€ä»¥$f(\boldsymbol{x})=f_*$å†™æˆ$f(\boldsymbol{x})\le f_*$ä¹Ÿå¯ä»¥ã€‚  
>    åˆ©ç”¨æ€§è´¨â€”â€”å‡¸å‡½æ•°çš„ä¸‹æ°´å¹³é›†åˆæ˜¯å‡¸é›†ï¼Œå¯ä»¥çŸ¥é“$S_*$ä¸ºå‡¸é›†ã€‚
> 3. è¯ï¼š  
>    åæ­£ - å‡è®¾æœ‰ä¸¤ä¸ªæœ€ä¼˜è§£ï¼Œå³$\exist$ä¸¤ä¸ªæœ€ä¼˜è§£$\boldsymbol{x}_{*1}, \boldsymbol{x}_{*2}(\boldsymbol{x}_{*1}\ne\boldsymbol{x}_{*2})$ï¼Œ  
>    å¯çŸ¥$f(\boldsymbol{x}_{*1})=f(\boldsymbol{x}_{*1})=f_*$  
>    $\because f$ä¸¥æ ¼å‡¸ï¼Œæ ¹æ®ä¸¥æ ¼å‡¸æ€§è´¨ï¼Œå–$\theta=\frac{1}{2}$å¾—$f(\frac{1}{2}\boldsymbol{x}_{*1}+\frac{1}{2}\boldsymbol{x}_{*2})<\frac{1}{2}f(\boldsymbol{x}_{*1})+\frac{1}{2}f(\boldsymbol{x}_{*2})=f_*$ï¼Œ  
>    å‡ºç°çŸ›ç›¾ï¼ˆ$f_*$æ˜¯æå°å€¼ï¼Œä¸å¯èƒ½ç”±å‡½æ•°å€¼æ¯”å®ƒè¿˜å°ï¼‰ï¼Œæ•…åè¯æˆåŠŸã€‚

---

é¢å¤–çš„ï¼Œå¦‚æœå‡¸å‡½æ•°$f$è¿˜æ»¡è¶³$f\in C^1$ï¼Œ  
åˆ™æå°ç‚¹å­˜åœ¨**å……åˆ†æ¡ä»¶**â€”â€”**å¦‚ä¸€ç‚¹$\boldsymbol{x}$çš„æ‰€æœ‰å¯è¡Œæ–¹å‘ï¼ˆè§Ep.3ï¼‰å˜åŒ–é‡$\langle \nabla f, \boldsymbol{d} \rangle\ge0$ï¼Œåˆ™è¯¥ç‚¹ä¸ºæå°å€¼ç‚¹**ã€‚

å³å¯¹ç‚¹$\boldsymbol{x}_0\in S$å’Œ$\forall\boldsymbol{y}\in S$ï¼Œæ»¡è¶³ï¼š
$$
\nabla f(\boldsymbol{x}_0)^T(y-\boldsymbol{x}_0)\ge0
$$
åˆ™$\boldsymbol{x}_0$ä¸ºæå°å€¼ç‚¹$\boldsymbol{x}_*$

> è¯æ˜ï¼š
>
> $\nabla f(\boldsymbol{x}_0)^T(y-\boldsymbol{x}_0)\ge0 \Rightarrow f(\boldsymbol{x}_0) + \nabla f(\boldsymbol{x}_0)^T(y-\boldsymbol{x}_0)\ge f(\boldsymbol{x}_0)$  
> å› $f\in C^1$ä¸ºå¯å¾®å‡¸å‡½æ•°ï¼Œç”±"æ¢¯åº¦ä¸ç­‰å¼"çŸ¥ï¼š$f(\boldsymbol{y})\ge f(\boldsymbol{x}_0) + \nabla f(\boldsymbol{x}_0)^T(y-\boldsymbol{x}_0)$  
> $\therefore f(\boldsymbol{y})\ge f(\boldsymbol{x}_0)$ï¼Œæ•…$\boldsymbol{x}_0$ä¸ºæå°ç‚¹$\boldsymbol{x}_*$ã€‚

å­˜åœ¨æ¨è®ºâ€”â€”**å¦‚æœ$\nabla f(\boldsymbol{x})=0$ï¼Œåˆ™$\boldsymbol{x}$ä¸ºæå°ç‚¹**ï¼ˆæ³¨æ„ä¸ºå……åˆ†æ¡ä»¶ï¼Œå³$\boldsymbol{x}$ä¸ºæå°ç‚¹ä¸ä¸€å®š$\nabla=0$ï¼Œæ¯”å¦‚åœ¨è¾¹ç•Œä¸Šï¼‰ã€‚

> æ‰€ä»¥æ±‚æå°å€¼ï¼Œå°±æ˜¯å°è¯•æ‰¾åˆ°$\nabla = 0$çš„ç‚¹ï¼Œä»¥è¿™ä¸ª**ä¸ºç›®æ ‡**ï¼š  
> å¦‚æœæ‰¾åˆ°äº†é‚£ä¸€å®šæ˜¯æå°ç‚¹ï¼›å¦‚æœæ²¡æ‰¾åˆ°ï¼Œå°±å‘èƒ½è®©$\nabla\to0$çš„æ–¹å‘é è¿‘ï¼ˆå°äº0å°±åŠ ã€å¤§äº0å°±å‡ï¼Œå³$-\nabla$æ–¹å‘ï¼‰ï¼Œç›´è‡³æœåˆ°è¾¹ç•Œï¼ˆä»£è¡¨è¾¹ç•Œä¸º$\nabla\ne0$çš„æå°ç‚¹ï¼‰ã€‚  
> è¿™å°±æ˜¯æ¢¯åº¦ä¸‹é™æ³•çš„åŠ¨æœºã€‚

### 3. æå¤§åŒ–

å¯¹äºæå¤§åŒ–å‡¸å‡½æ•°çš„é—®é¢˜ï¼Œè™½ç„¶å¯èƒ½å­˜åœ¨å¾ˆå¤šå±€éƒ¨æå¤§ç‚¹ï¼ˆå³æ²¡æœ‰å±€éƒ¨æå¤§ç‚¹æ˜¯å…¨å±€æå¤§ç‚¹è¿™ä¸€æ€§è´¨ï¼‰ï¼Œä½†ä¹Ÿå­˜åœ¨ä¸€æ¡é‡è¦æ€§è´¨ï¼š  
ç®€å•æ¥è¯´æ˜¯ï¼š**æå¤§å€¼ä¸€å®šåœ¨è¾¹ç•Œå¤„å–åˆ°**ã€‚

é¦–å…ˆå®šä¹‰**æç‚¹**ï¼š  
> å®šä¹‰ - æç‚¹ï¼š
>
> å¯¹äº$\boldsymbol{x}$ï¼Œ  
> å¦‚æœ$\boldsymbol{x}$**ä¸èƒ½è¢«å…¶ä»–ç›¸å¼‚ç‚¹**$\boldsymbol{x}_0,\boldsymbol{x}_1$ï¼ˆç›¸å¼‚å³$\boldsymbol{x}_0,\boldsymbol{x}_1$ä¸åŒäº$\boldsymbol{x}$ï¼‰**å‡¸ç»„åˆè¡¨ç¤º**ï¼ˆ$\boldsymbol{x}=(1-\theta)\boldsymbol{x}_0+\theta\boldsymbol{x}_1$ï¼‰å‡ºæ¥ï¼Œ  
> åˆ™$\boldsymbol{x}$ä¸ºæç‚¹ã€‚

**å‡ ä½•ä¸Šç†è§£**ï¼šå³çº¿æ®µçš„ç«¯ç‚¹ã€å¤šè¾¹å½¢çš„é¡¶ç‚¹ã€‚

ç„¶åå­˜åœ¨**å®šç†**ï¼š
> å®šç† - **æœ€å¤§å€¼å¿…è¦æ¡ä»¶** - **æœ€å¤§å€¼ä¸€å®šæ˜¯æŸä¸ªæç‚¹ï¼ˆæç‚¹å¤„å¯èƒ½å­˜åœ¨æœ€å¤§å€¼ï¼‰**ï¼š
>
> $f$æ˜¯**æœ‰ç•Œé—­**å‡¸é›†$S$ä¸Šçš„å‡¸å‡½æ•°ï¼Œå¦‚æœå­˜åœ¨æœ€å¤§å€¼ï¼Œé‚£ä¹ˆå¯ä»¥åœ¨$S$çš„æç‚¹å¤„å–åˆ°æœ€å¤§å€¼ã€‚

è¿™ä¾¿æ˜¯â€œå•çº¯å½¢æ³•â€çš„åŠ¨æœºâ€”â€”åœ¨è¾¹ç•Œå¤„æœç´¢æœ€å¤§å€¼ã€‚

## Tip. ä¸€äº›å‡¸å‡½æ•°çš„å¿«æ·åˆ¤æ–­

* å¯¹äº$f(\boldsymbol{x})$ï¼Œå¦‚æœå…¶$\nabla^2 f(\boldsymbol{x})\succ0$ï¼Œ  
  åˆ™$f$ä¸º**ä¸¥æ ¼å‡¸å‡½æ•°**ã€‚
  ![è¯æ˜](<images/image-2.2. å‡¸å‡½æ•°ã€å‡¸ä¼˜åŒ–.png>)
