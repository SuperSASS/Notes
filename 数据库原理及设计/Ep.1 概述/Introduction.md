# Ep.1 数据库系统概述

整个数据库以数据管理系统(DBMS)为核心。

## 一、DBMS的发展

1. 人工管理阶段  
   数据不能存储。
2. 文件系统阶段  
   优点：
   * 能永久储存数据。
   * 实现数据部分的结构化。
   * 数据的管理者是**文件系统**，而不再是人工。
   缺陷：
   * 其数据（文件）与应用程序是强耦合的，数据的结构是靠程序定义和解释的，文件完全依赖于程序。
   * 数据之间不能共享。
   * 无法处理超大量数据。  
     链表要将数据一次性读入内存，而32位最高访问4G。
   * 多用户并发访问，会产生问题和冲突。
   * 故障情况下的恢复。
   * 安全性的问题。
   * 数据的完整性问题。  
     同一个数据可能出现在多个数据结构中（如学号），当修改之后所有都要修改。

## 二、DBMS的基本功能

为以下五大功能：

* **数据独立性**  
  将数据结构和数据文件与应用程序分离，数据完全由数据库管理系统管理。
  1. 物理独立性  
     应用程序与存储在磁盘上的数据库中数据是相互独立的，因此用户不需要了解怎么存储，数据的物理存储位置改变了，应用程序不用改变。  
     关键：**存储位置**。
  2. 逻辑独立性  
     应用程序与数据库的逻辑结构是相互独立的，数据的逻辑结构改变时，用户程序也可以不变。  
     关键：**数据结构定义**。
  
  由于与应用程序独立，所以解决了大容量数据的问题。
* **数据安全性**  
  提供授权子系统，每个用户或用户组有一个通过口令保护的帐户，有不同的访问权限。
* **数据完整性**  
  建立各种完整性约束，数据检验规则等，使得数据完整。
* **并发控制**  
  通过“事务”和“加锁”等方法实现多个用户访问不冲突。
* **故障恢复**  
  通过“日志”实现。

> 定义 - 数据库管理系统(DBMS)：
>
> 数据库管理系统是一个**通用**的软件系统，有一组计算机程序构成，**用于科学地组织和存储数据、高效地获取和维护数据。**

同时也完成了数据的**整体结构化**。  
比如对于学生，学号是最关键信息，有学号就能完全确定这个学生，其余数据都跟学号连接起来。

## 三、数据库相关概念

### 1. 数据

> 定义 - 数据：
>
> 是描述现实世界中各种**具体事物**，或**抽象**概念的、可存储并具有明确意义的信息。

数据就是描述事物的符号记录。  
数据与语义不可分割。（如"2020123456,小明"这条数据，小明的语义就是姓名）

### 2. 数据库

> 定义 - 数据库：
>
> 是相互**关联**的**数据集合**。

如学校系统数据库，含有学生、教师、课程等相关数据。

特点：

* 永久存储
* 有组织
* 可共享

### 3. 数据库系统

> 定义 - 数据库系统：
>
> 在计算机系统中引入数据库后的系统构成，有数据库和数据库管理系统构成。

即为：DB+DBMS+数据库管理员+应用程序+用户

### 4. 数据库操作

数据库应用中，参加的操作有：

* 增加
* 删除
* 查找
* 修改

### 5. 视图

> 定义 - 视图(View)：
>
> 不同的视角截取同一数据库的子集，成为数据库的一个视图。

对于不同层次的用户，给出同一数据库的不同视图。

## 四、数据库设计的相关概念

* **数据抽象**：  
  是一种数据抽取的**过程**。  
  每一个事物有无限多个特征，根据不同用户需求抽取所关注的特征。（如学生的特征：学号、姓名、监护人、身高、长相、皮肤颜色等）
* 星星**数据模型**：  
  对数据进行抽象化表示、存储和操作的**工具**，主要是用逻辑概念来表示数据。  
  决定了数据库的性能。

  三要素：
  1. **数据结构**：描述实体本身，以及实体之间的关系。
  2. **数据操作**：增删查改。
  3. **数据约束**：数据本身的约束（条件），记忆数据之间的约束。

  三个评价标准：
  1. 真实地描述现实世界。
  2. 易于为用户理解。
  3. 易于在计算机上实现。  
     与第二点存在矛盾。
* **数据模式**：  
  数据根据数据模型抽取的**结果**。

对象通过数据模型来进行数据抽取，得到数据模式。

## 五、数据库系统的抽象层次

存在三个层次（阶段）：

1. **视图级抽象**  
   针对不同用户组**各自的要求**，设计出多套视图(View)。
   得到的为多个“**外模式**”，面向用户。
2. **概念级抽象**  
   将不同用户组的要求合并**统一**，并解决部分冲突加以约束。  
   得到一套“**概念模式**”，也称模式。
3. **物理级抽象**  
   将统合起来的要求（概念模式）抽象成计算机能懂的数据库。  
   **选择**合适的数据库管理系统，并将要求**建立**起来。  
   得到一套“**内模式**”。

## 六、数据模型的分类

1. **概念数据模型**  
   面向用户、现实系统的数据模型，用于与用户交互。
   称为ER图。
2. **逻辑数据模型**  
   具体的DBMS能实现支持管理的数据模型，面向DBMS。  
   如：关系数据模型、层次数据模型、网状数据模型。
3. 物理数据模型  
   具体存储在磁盘等的数据模型。

## 七、抽象层次之间的映射

1. 外模式 - 模式映射  
   当模式更改后，外模式也会根据映射相应变化。  
   保证逻辑独立性。
2. 模式 - 内模式映射  
   当内模式的物理位置改变后，外模式只需改变映射，保证数据不变。
   保证物理独立性。

## 八、数据库的语言

有三类：

* 数据库设计人员 - 数据定义语言(DDL)
* 数据库管理员和用户 - 数据操作语言(DML)
* 数据库安全

SQL（结构化程序语言），综合了上述各方面在同一个语言中。
