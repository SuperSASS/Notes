# JavaScript

## 1. 扩展运算符

`...`的用法：  
用于取出参数对象的所有**可遍历属性**，然后**拷贝到当前对象**之中。

一般来说用于数组或对象，  

* 对于对象，会把对象**解包**，然后把所有属性拷贝到当前对象；  
  在对象的**多重解包**时，会把**变量名作为key**，所以必须为**有名字的变量**！
* 对于数组，会把数组遍历，然后按`0`开始的数组key拷贝【原理是因为数组是特殊的对象，key自动从`0`开始  
  虽然key默认为数字，因此不用变量名，但对于多个数组扩展**会覆盖**！

```js
// 定义
let obj1 = {a:'1', b:'2'},
    obj2 = {c:'3', d:'4', e:'5'};
let arr1 = [1, 2],
    arr2 = [3, 4, 5];
let arrObj = [obj1, obj2];
```

则：

```js
// 正确用法
{...{a:'1', b:'2'}}; // {a:'1', b:'2'}
{...obj1};           // {a:'1', b:'2'}
{...{obj1}};         // {obj1:{a:'1', b:'2'}}

{...arr2}; // {0:3, 1:4, 2:5}
{...[[[1,2], {a:1, b:2}], 3]}; // {0:[内部内容], 1:3}

{...obj2, ...arr1}; // {c:'3', d:'4', 0:1, 1:2}
{...obj2, ...arr2, obj1, ...arr1}; // {0: 1, 1: 2, 2: 5, c: '3', d: '4', obj1: {…}}
{...obj1, ...arr1, obj2, ...arr2}; // {0: 3, 1: 4, 2: 5, a: '1', b: '2', obj2: {…}}

//------------------

// 错误用法
{...{ {a:'1', b:'2'} }}; // 多重解包时，内部的{a:'1', b:'2'}没名字
{...{ {obj1} }}; // 一样没名字哈
```
