# Ep.1 概述

## 一、什么是数字图像

> 一个二维函数$f(x,y)$，$x,y$为空间平面坐标，
> 在任何一对空间坐标$(x,y)$处的幅值$f$称为图像在该点处的**强度**（灰度）。
>
> 如果$x,y,f$均为**离散值**，则称该图像为数字图像。

数字图像由有限数量的元素（即$(x,y)$对）组成，称为**像素**（或图像元素）。

* 对于单色（灰度）图像而言，每个像素的亮度由一个数值来表示。
  范围为$0\sim255$，0为黑、255为白。
* 对于彩色图像而言，每个像素的颜色由红绿蓝三元组来表示。
  每个元的值范围为$0\sim255$，0表示该像素没有该基色、1表示有。
  *所以彩色图像实际上是三个灰度图像合成在一起的。*

## 二、应用

举例：

* 图像增强——像素值直方图均衡化
  像素值呈均匀分布，图像更符合人类观感。
* 基于内容的图像搜索——以图搜图

## 三、基本组成结构

由三部分组成：

* 输入
* 处理
* 输出

## 四、存储系统

* 互联网：`gif`、`jpg`
* 印刷：`tif`、`jpg`、`tag`、`pcx`
* 国际标准：`tif`、`jpg`、`bmp`
* 国际存储体系
  * 分级存储内存存储
  * 处理、备份时用：硬盘（在线）
  * 备份存储：光盘、磁带（离线）

以上即为各种**编码格式**，我国自创的编码格式有`avs`

## 五、图像形成模型

* 坐标$x,y$处的幅值$f(x,y)$满足：$0<f(x,y)<\infty$
* $f(x,y)$可以由两个分量来表征
  * 入射分量$i(x,y)$：入射到被观察场景的光源照射总量
  * 反射分量$r(x,y)$：场景中物体反射的光总量

$$
f(x,y)=i(x,y)r(x,y)
$$
其中$0<r(x,y)<1\le i(x,y)<\infty$

单色图像$x_0,y_0$处的强度为$l=f(x_0,y_0)$，
区间$[l_{min},l_{max}]$称为灰度级，通常为$[0,L]$，
$l=0$为黑色、$l=L-1$为白色。

## 六、取样和量化

* 取样：对连续的**坐标**进行**离散数字化**
* 量化：对连续的**幅值**进行**离散数字化**

## 七、数字图像表示

为像素矩阵（注意：一般原点在左上角）。

* 取样：将$xy$平面分为网格的过程
  * $(x,y)=(\lfloor \frac{M}{2} \rfloor, \lfloor \frac{N}{2} \rfloor)$
  * $f(x,y)$就是$M*N的矩阵
* 处于存储和量化硬件的考虑，灰度级通常取$2$的整数次幂$2^k$。
  故：存储数字图像所需的比特数为$b=M*N*k$。

## 八、分辨率

* 空间分辨率(dpi)：图像中可分辩的最小细节的度量。
  量化为单位距离的线对数、像素数（针对**单位长度**内才有意义）。
  dpi为每英寸的点数。
* 灰度分辨率：在灰度级中可以分辨的最小变化。
  量化为灰度的比特数，如$8bits$。

## 九、图像插值

* 内插：用已知的数据来估计未知的值
  在放大缩小（增加或减少图像的像素数量）、旋转、几何校正时可适用。

也称图像重取样方法。

**方法**：

* 最近邻内插法：最简单方法，直接把最近的像素幅值给它
* 双线性内插法：利用待求像素**四个邻像素**的灰度，在两个方向上做线性内插
* 忘了

## 十、像素的关系

### 1. 领域

* 4领域：上下左右4个
* D领域：非4领域的周围4个
* 8领域

### 2. 邻接

* 4邻接
* 8邻接
* M邻接：要么4领域；要么D领域，但两者间的4领域没有相同的邻接点  
  > 0 1 1
  > 0 2 0
  > 0 0 1
  >
  > 中间的2，和下面的1M邻接、和上面的1不是M邻接

### 3. 通路

根据某邻接性，确定两像素的若干通路

### 4. 距离度量

* 欧式距离：$\sqrt{(x-u)^2+(y-v)^2}$
* $D_4$距离（城市距离）：$|x-u|+|y-v|$
* $D_8$距离（棋盘距离）：$\max(|x-u|,|y-v|)$

## 十一、变换

### 1. 运算

* 阵列相乘：两相同矩阵，每个元素对应相乘
* 矩阵相乘：矩阵乘法

### 2. 线性与非线性操作

* 加法——去除叠加噪声  
  噪声指不定时随机分布影响原图的偏差。  
  因此将所有带噪声的相同图片相加，然后求平均，可以时噪声分布均匀然后消去。
* 减法——检测图像的差异、扣除背景  
  比如一个正常人的大脑和病变的大脑，相减（然后可以增强差异），找出病变
* 乘法——二值蒙板  
  0代表要该像素、1代表不要
* 非
* 与：求相交图像
* 或：求相并图像
* 异或

### 3. 空间操作

* 单像素操作
* 领域操作：如进行图像模糊
* 几何空间变换：$(x',y')=T\cdot{(x,y)}$
* 仿射变换
  * 前向仿射：$(x,y)=T(u,v)$  
    会出现多对一、或者某些像素点不存在映射点的问题
  * 后向映射：$(u,v)=T^{-1}(x,y)$  
    扫描输出像素的位置，求得输入图像，效果比前向好。

### 4. 图像配准

就是利用仿射变换，想把一个图变成另一个基准图，  
需要定“**基准点（控制点）**”，基准点两图是完全对应的，然后通过基准点变换。

### 5. 图像变换

* 空间域（空域）处理：直接在图像像素上操作
* 变换域（频域）处理：利用傅立叶变换，进行滤波（比如使被正弦波污染的图像使其复原）

### 6. 概率方法

* 灰度级$z_k$（某一灰度值）出现的概率
* 统计特性
  * 反差：反映了**对比度**

