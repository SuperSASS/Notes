# 第六节 定点除法运算

也是模拟手算的过程，转化成若干次“减法-移位”的操作。  
因为为二进制，所以每一次操作只有减或不减两个选项。

需要考虑两个问题：

1. 如何判断商的数符
2. 机器如何判断能够减
   1. 直接对两部分数进行逻辑大小判断
   2. 先减，在判断结果是否大于零

部分计算机采用阵列除法模块可实现快速除法。

## 一、原码除法运算

根据上面的第二个问题，分为两种方法：

1. 恢复余数法
2. 原码比较法

### 1. 恢复余数法

先做减法进行试探是否够减。

* 若部分余数（即结果）为非负数，表示够减，该位商`1`。
* 若部分余数（即结果）为负数，表示不够减，该位商`0`，并要回复正确的余数。

缺点：

* 运算的实际操作次数不固定。
* 恢复余数操作带来额外开销。

### 2. 不恢复余数法（原码加减交替法）

*「需要补笔记……*

是对恢复余数法的改进，减少了恢复余数和加法的浪费时间。

根据推导，出现不够减的情况不用恢复余数，可以直接做下一步操作，但操作是：
$$
r_{i+1}=2r_i+(1-2Q_i)\times Y
$$
其中$Q_i$是第$i$次所得的商。  
若部分余数为正，则$Q_i=1$，部分余数左移一位，下一位继续减除数。  
若部分余数为负，则$Q_i=0$，部分余数左移一位，下一位加除数。

一般都采用该方法。

## 二、补码加减交替除法运算

### 1. 求商及新余数的运算规则

* $[r_{i+1}]$与$[Y]_\textrm{补}$同号：上商`1`，下一位左移，相减。
* $[r_{i+1}]$与$[Y]_\textrm{补}$异号：上商`0`，下一位左移，相加。
* 对于末尾恒置`1`。

## 三、阵列除法器

CAS为可控的加减法运算单元。

//-0.65625
//0.84375