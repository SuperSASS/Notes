# 第二节 Thread - 线程

一个程序通常由若干个函数(function)构成，  
每个函数功能所需资源、执行方式等均不相同，  
若放在一个进程中串行处理会导致利用率低，各功能之间相互限制，  
因此考虑将每个独立功能分开。

但一个进程互相是隔离的，资源不互通，  
不能将每个功能分为一个进程。

因此提出线程概念，其来自于一个进程，资源共享，  
但执行是分开的。

## 一、线程和进程

### 1. 多线程

拥有的资源：

* An ecexution state.
* Saved thread context when not running.
* An execution stack.
* Some pre-thread static storage for local variables.
* Access of

每个线程占用资源少，很容易创建、终止和切换。

---

线程状态：

* Running
* Ready
* Blocked

线程操作：

* Spawn - 派生
* Block
* Unblock
* Finish

线程执行：

* 需要于进程同步。（进程挂起、线程均挂起）

## 二、线程的分类

分为用户级线程和内核级线程。

*注意：与之前的用户模式、内核模式等概念不一样。*

区别在于：OS是否知道线程的存在。

### 1. User Level Thread(ULT) - 用户级线程

OS不知道线程的存在。  
OS只管理进程。

### 2. Kernel Level Thread(KLT) - 内核级线程

OS知道线程的存在。  
OS既管理进程也管理线程。
