# Ep.4 STM32最小系统与嵌入式C语言

## 一、硬件简介

### 1. 电源电路

### 2. 时钟晶振

* 有源
* 无源

### 4. 调试和下载电路

Cortex-M3内核有三种启动方式，根据$BOOT0$和$BOOT1$的电平组合进行选择。

* `0x` - 内存存储器（用户闪存Flash、用户自己写的）被选为启动区域
* `10` - 系统存储器（系统Flash）被选为启动区域
* `11` - 内置SRAM被选为启动区域

## 二、嵌入式C语言

跟标准C语言差别不大。

嵌入式系统采用模块化、层次化设计思想。

* 启动代码 - 主函数：用来调度（甚至变为操作系统）
  * 硬件驱动
    * 外设模块$n$
      * 头文件`.h`
      * 源文件`.c`
  * 业务逻辑
    * 功能模块$n$
      * 头文件`.h`
      * 源文件`.c`

驱动只管驱动、业务逻辑只管逻辑，**硬件（驱动）和软件（业务逻辑）解耦分离**。

比如对于同样的汽车情报板（汇报路况的），无论什么板子都会汇报前方拥堵等相同内容，  
但如果板子换了，只用重写驱动部分，业务逻辑部分只重新引用新的驱动头文件即可。

### 2. 数据类型

* `int` - 16位  
  推荐代替为该方式：`uintX_t`/`intX_t` - 代表X位无/有符号数。
* `float`(不常用)

？？？……
