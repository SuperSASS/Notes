# Ep.5 网络层

**路由：**

* 固定路由
* 泛洪法
* 随机路由
* 自适应路由

## 路由算法

组成有两部分程序：

* 发送和接受网络可达性信息的程序
* 计算最优路的程序

需要程序在网络拓扑变化时动态变化。

有两种基本的路由算法：

1. 距离矢量路由
2. 链路状态路由

### (1) 距离矢量路由

问题：无限计数

### (2) 链路状态路由

每个结点都知道整个网络拓扑结构，记录在由LSAs组成的数据库中，  
然后用Dijkstra算法，得到路由表。

**Dijkstra算法：**

* `V` - 二维矩阵，存图路径的信息
* `dis` - 初始存起点到其余各顶点的路径，之后随着松弛操作，更新为最短路
  
每次找`dis`中最短点，将其设为确定点，之后不再对该点进行操作，  
然后以该点作为中转，把其他可通过该点的点进行松弛操作。

## 网际互连

* 物理层 - 中继器/集线器
  * 中继器 - 用来连接多个局域网段  
    会放大所有信号，包括干扰
  * 集线器 - 也叫多端口中继器
* 数据链路层 - 网桥/交换机
  * 网桥 - 连接多个局域网（可以是不同MAC协议的异构网络，如无线与有线）  
    工作在数据链路层（管理帧的接收/转发等）  
    有用两层路由表，
* 网络层 - 路由器
  * 路由器 - 连接多个不同的子网
* 传输层/应用层 - 网关